<VirtualHost *:80>
    ServerName localhost
    DocumentRoot /var/www/html/public

    <Directory /var/www/html/public>
        Options FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    # Proxy PHP requests to PHP-FPM via Unix socket
    <FilesMatch \.php$>
        SetHandler "proxy:unix:/run/php/php-fpm.sock|fcgi://localhost"
    </FilesMatch>

    # Allow TYPO3 directory index
    DirectoryIndex index.php index.html

    ErrorLog /dev/stderr
    CustomLog /dev/stdout combined
</VirtualHost>
